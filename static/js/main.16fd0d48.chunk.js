(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(29)},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(8),o=n.n(r),c=n(14),i=n(6),u=n(9),s=n(10),d=n(16),f=n(11),h=n(17),m=n(1),g=n(2);function v(){var e=Object(m.a)(["\n  border: 2px solid ",";\n"]);return v=function(){return e},e}function p(){var e=Object(m.a)(["\n  width: 100%;\n  margin-bottom: 20px;\n"]);return p=function(){return e},e}function E(){var e=Object(m.a)(["\n  margin-bottom: 4px;\n"]);return E=function(){return e},e}function b(){var e=Object(m.a)(["\n  top: 20px;\n  left: 20px;\n  position: absolute;\n  padding: 20px;\n  border-radius: 4px;\n  background-color: #fafbfc;\n  border: 1px solid #e9eaeb;\n"]);return b=function(){return e},e}function S(){var e=Object(m.a)(["\n  font-size: 16px;\n  line-height: 6px;\n  letter-spacing: -3px;\n  display: inline-block;\n"]);return S=function(){return e},e}function w(){var e=Object(m.a)(["\n  overflow: hidden;\n  font-family: monospace;\n  cursor: ",";\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -o-user-select: none;\n"]);return w=function(){return e},e}var x=n(25),y=n(26),O=n(27),k=Object(g.a)("div")(w(),function(e){return e.grabbing?"grabbing":"grab"}),C=Object(g.a)("pre")(S()),M=Object(g.a)("div")(b()),P=Object(g.a)("p")(E()),j=Object(g.a)("table")(p()),I=Object(g.a)("input")(v(),function(e){return e.valid?"none":"#FF4136"}),R=["3 * (x**2 - y**2)","x**4 + y**4","x*x*y*y","5 * Math.sqrt(x*x + y*y)"],W=new y({threshold:15,timeout:1e3}),X=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(f.a)(t).call(this,e))).setTextSize=function(e,t){n.setState({textWidth:e,textHeight:t,shouldRecalcPlacevalueStrings:!0})},n.handleChange=function(e,t){var a;n.setState((a={},Object(i.a)(a,e,t),Object(i.a)(a,"shouldRecalcPlacevalueStrings",!0),a))},n.handleFnShuffleClick=function(){var e,t=n.state.fn,a=R.indexOf(t);do{e=Math.floor(Math.random()*R.length)}while(e===a);n.setState({fn:R[e],shouldRecalcPlacevalueStrings:!0})},n.handlePlayToggle=function(){var e=!n.state.isPlaying;e?n.makeInterval():n.clearInterval(),n.setState({isPlaying:e})},n.handleResize=function(){n.forceUpdate()},n.handleShake=function(){var e=n.state.shouldHideControlsModal;n.setState({shouldHideControlsModal:!e})},n.handleMousedown=function(e){var t=n.state,a=t.xOffset,l=t.yOffset;n.setState({dragStartX:e.screenX,dragStartY:e.screenY,dragStartXOffset:a,dragStartYOffset:l})},n.handleMouseup=function(){n.setState({dragStartX:null,dragStartY:null,dragStartXOffset:null,dragStartYOffset:null})},n.handleMousemove=function(e){var t=n.state,a=t.dragStartX,l=t.dragStartY,r=t.dragStartXOffset,o=t.dragStartYOffset;if(a||l){var c=e.screenX,i=e.screenY;n.setState({xOffset:Math.floor((a-c)/5)+r,yOffset:Math.floor((l-i)/5)+o,shouldRecalcPlacevalueStrings:!0})}},n.handleKeyDown=function(e){var t=n.state.shouldHideControlsModal;switch(e.keyCode){case 27:n.setState({shouldHideControlsModal:!t});break;case 67:n.handlePlayToggle();break;case 74:n.decrementPlace();break;case 75:n.incrementPlace()}},n.makeInterval=function(){var e=n.state.intervalMS;n.interval=setInterval(function(){n.state.isPlaying&&n.incrementPlace()},e)},n.clearInterval=function(){clearInterval(n.interval),n.interval=null},n.incrementPlace=function(){var e=n.state,t=e.place,a=e.maxPlace;n.setState({place:t%a+1})},n.decrementPlace=function(){var e=n.state,t=e.place,a=e.maxPlace;n.setState({place:t>1?t-1:a})},n.recalcPlacevalueStrings=function(){for(var e=n.state,t=e.fn,a=e.textWidth,l=e.textHeight,r=e.yOffset,o=e.xOffset,i=e.maxPlace,u=new Worker("worker.js"),s=setTimeout(function(){u&&(u.terminate(),u=null,n.setState({didFnError:!0}))},2e3),d=[],f=0;f<i;f++)d.push(f+1);u.postMessage(["".concat(JSON.stringify(d),".map(p=>(").concat(x.toString(),")((x,y)=>").concat(t,",").concat(l,",").concat(a,",p,").concat(r,",").concat(o,"))")]),u.onmessage=function(e){clearTimeout(s),n.setState({placevalueStrings:Object(c.a)(e.data),didFnError:!1}),u.terminate(),u=null},u.onerror=function(e){clearTimeout(s),e.message.indexOf("SyntaxError")>-1&&n.setState({didFnError:!0}),u.terminate(),u=null}},n.state={fn:R[Math.floor(Math.random()*R.length)],place:7,yOffset:0,xOffset:0,textWidth:null,textHeight:null,maxPlace:9,isPlaying:!1,placevalueStrings:null,didFnError:!1,shouldRecalcPlacevalueStrings:!1,intervalMS:100,shouldHideControlsModal:!1,dragStartX:null,dragStartY:null,dragStartXOffset:null,dragStartYOffset:null},W.start(),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize),window.addEventListener("shake",this.handleShake),window.addEventListener("mousedown",this.handleMousedown),window.addEventListener("mouseup",this.handleMouseup),window.addEventListener("mousemove",O(this.handleMousemove,50)),document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(e,t){this.state.shouldRecalcPlacevalueStrings&&(this.recalcPlacevalueStrings(),this.setState({shouldRecalcPlacevalueStrings:!1}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.fn,a=t.place,r=t.yOffset,o=t.xOffset,c=t.textHeight,i=t.textWidth,u=t.maxPlace,s=t.placevalueStrings,d=t.intervalMS,f=t.shouldHideControlsModal,h=t.didFnError,m=t.dragStartX,g=t.dragStartY;return l.a.createElement(k,{grabbing:m&&g},!c&&!i&&l.a.createElement(C,{innerRef:function(t){if(t){var n=t.getBoundingClientRect(),a=n.width,l=n.height;e.setTextSize(Math.floor(window.innerWidth/a),Math.floor(window.innerHeight/l))}}},"*"),s&&l.a.createElement(C,null,s[a]||""),!f&&l.a.createElement(M,null,l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(P,null,"Controls")),l.a.createElement(j,null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"ESC".concat("ondevicemotion"in window?"/shake device":"")),l.a.createElement("td",null,"Toggle controls modal")),l.a.createElement("tr",null,l.a.createElement("td",null,"c"),l.a.createElement("td",null,"Toggle play/pause")),l.a.createElement("tr",null,l.a.createElement("td",null,"j"),l.a.createElement("td",null,"Decrement place")),l.a.createElement("tr",null,l.a.createElement("td",null,"k"),l.a.createElement("td",null,"Increment place")),l.a.createElement("tr",null,l.a.createElement("td",null,"Click + drag"),l.a.createElement("td",null,"Adjust x/y offset"))))),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(P,null,"Parameters")),l.a.createElement(j,null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("label",null,"(x, y) \u21d2 ")),l.a.createElement("td",null,l.a.createElement(I,{type:"text",value:n,placeholder:"e.g. x + y",onChange:function(t){return e.handleChange("fn",t.target.value)},valid:!h}),l.a.createElement("input",{type:"button",value:"Random",onClick:this.handleFnShuffleClick}))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("label",null,"Place")),l.a.createElement("td",null,l.a.createElement(I,{type:"text",value:a,placeholder:"Integer greater than 1",onChange:function(t){return e.handleChange("place",t.target.value)},valid:a&&a>0}))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("label",null,"Max Place")),l.a.createElement("td",null,l.a.createElement(I,{type:"text",value:u,placeholder:"Integer greater than 1",onChange:function(t){return e.handleChange("maxPlace",t.target.value)},valid:u&&u>0}))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("label",null,"Y Offset")),l.a.createElement("td",null,l.a.createElement(I,{type:"text",value:r,placeholder:"Integer",onChange:function(t){return e.handleChange("yOffset",t.target.value)},valid:!Number.isNaN(parseInt(r,10))}))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("label",null,"X Offset")),l.a.createElement("td",null,l.a.createElement(I,{type:"text",value:o,placeholder:"Integer",onChange:function(t){return e.handleChange("xOffset",t.target.value)},valid:!Number.isNaN(parseInt(o,10))}))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("label",null,"Interval (MS)")),l.a.createElement("td",null,l.a.createElement(I,{type:"text",value:d,placeholder:"Integer",onChange:function(t){return e.handleChange("intervalMS",t.target.value)},valid:d&&d>0})))))),l.a.createElement("div",null,l.a.createElement("a",{href:"https://github.com/mouse-reeve/placevalue_ascii"},"What is this?")),l.a.createElement("div",null,l.a.createElement("a",{href:"https://github.com/thehandsomepanther/placevalue-ascii-playground"},"Github"))))}}]),t}(a.Component),Y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function H(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(28);o.a.render(l.a.createElement(X,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/placevalue-ascii-playground",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/placevalue-ascii-playground","/service-worker.js");Y?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):H(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):H(e)})}}()}},[[18,1,2]]]);
//# sourceMappingURL=main.16fd0d48.chunk.js.map